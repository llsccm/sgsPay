(function(t){function e(e){for(var n,c,s=e[0],u=e[1],i=e[2],f=0,d=[];f<s.length;f++)c=s[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var u=a[s];0!==o[u]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},o={app:0},r=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var i=0;i<s.length;i++)e(s[i]);var l=u;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("46a1"),a("450d");var n=a("e5f2"),o=a.n(n),r=(a("0fb7"),a("f529")),c=a.n(r),s=(a("fd71"),a("a447")),u=a.n(s),i=(a("8bd8"),a("4cb2")),l=a.n(i),f=(a("4ca3"),a("443e")),d=a.n(f),p=(a("915d"),a("e04d")),m=a.n(p),b=(a("f4f9"),a("c2cc")),h=a.n(b),v=(a("7a0f"),a("0f6c")),g=a.n(v),y=(a("10cb"),a("f3ad")),w=a.n(y),k=(a("1951"),a("eedf")),x=a.n(k),O=(a("eca7"),a("3787")),j=a.n(O),$=(a("425f"),a("4105")),_=a.n($),D=(a("5466"),a("ecdf")),S=a.n(D),A=(a("38a0"),a("ad41")),P=a.n(A),T=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("b0c0"),a("2b0e")),E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-menu-item",{attrs:{index:"1"}},[t._v("模拟小程序签到")]),a("el-menu-item",[a("el-link",{attrs:{href:"/pay",target:"_blank",underline:!1}},[t._v("自定义充值")])],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"table"},[a("el-table",{attrs:{data:t.tableData,stripe:"",size:"medium"}},[a("el-table-column",{attrs:{prop:"account",label:"账号",width:"150"}}),a("el-table-column",{attrs:{prop:"password",label:"密码",width:"150"}}),a("el-table-column",{attrs:{prop:"Authenticate",label:"token",width:"300"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleLogin(e.$index,e.row)}}},[t._v("登录")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index)}}},[t._v("删除")])]}}])})],1)],1),a("el-alert",{attrs:{title:"token过期时间未知",type:"warning","show-icon":"",center:""}}),a("div",{staticClass:"button"},[a("el-button",{attrs:{plain:!0,type:"info"},on:{click:t.allInfo}},[t._v("获取信息")]),a("el-button",{attrs:{plain:!0,type:"info"},on:{click:t.allSign}},[t._v("签到")])],1)],1),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"form"},[a("el-form",{attrs:{model:t.user,"status-icon":"","label-width":"80px","label-position":"left",size:"mini"}},[a("el-form-item",{attrs:{label:"账号",prop:"account"}},[a("el-input",{model:{value:t.user.account,callback:function(e){t.$set(t.user,"account",t._n(e))},expression:"user.account"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加")])],1)],1)],1)])],1)],1)},z=[],I=a("c7eb"),J=a("1da1"),C=(a("e9c4"),a("99af"),a("a434"),a("d3b7"),a("159b"),a("bc3a")),M=a.n(C),G=M.a.create({baseURL:"/api",timeout:5e3});G.interceptors.request.use((function(t){return t})),G.interceptors.response.use((function(t){return t.data}),(function(t){console.log(t)}));var L=function(t){var e=t.account,a=t.password;return G({url:"/api/v2/wx/forum/login",method:"POST",data:{account:e,password:a}})},N=function(t){return G({url:"/v2/wx/account/info",method:"GET",headers:{Authenticate:t}})},q=function(t){return G({url:"/v2/wx/forum/clock?type=1",method:"GET",headers:{Authenticate:t}})},R=function(t){return G({url:"/v2/wx/forum/clock/days?type=1",headers:{Authenticate:t},method:"GET"})},U={name:"App",data:function(){return{tableData:[{account:"",password:"",Authenticate:""}],user:{account:"",password:""}}},mounted:function(){this.tableData=JSON.parse(localStorage.getItem("user"))||[]},computed:{},methods:{handleLogin:function(t,e){var a=this;return Object(J["a"])(Object(I["a"])().mark((function n(){var o;return Object(I["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,L({account:e.account,password:e.password});case 2:o=n.sent,"0"==o.code?(a.tableData[t].Authenticate=o.data.token,a.$message({message:o.msg,type:"success"}),localStorage.setItem("user",JSON.stringify(a.tableData))):a.$notify({title:e.account,message:o.msg,type:"error"});case 4:case"end":return n.stop()}}),n)})))()},info:function(t){var e=this;return Object(J["a"])(Object(I["a"])().mark((function a(){var n,o,r,c,s;return Object(I["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.token,o=t.account,a.next=3,N(n);case 3:r=a.sent,"0"==r.code&&(console.log(r.data),e.$notify({title:o,message:"".concat(null===(c=r.data)||void 0===c?void 0:c.old.area,": ").concat(null===(s=r.data)||void 0===s?void 0:s.old.name)}));case 5:case"end":return a.stop()}}),a)})))()},clock:function(t){var e=this;return Object(J["a"])(Object(I["a"])().mark((function a(){var n,o,r;return Object(I["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.account,o=t.token,a.next=3,q(o);case 3:r=a.sent,"0"==r.code?e.$message({message:r.msg,type:"success"}):"1"==r.code?e.$notify({title:n,message:r.msg,duration:0}):e.$message({message:r.msg,type:"error"}),e.signDay({account:n,token:o});case 6:case"end":return a.stop()}}),a)})))()},signDay:function(t){var e=this;return Object(J["a"])(Object(I["a"])().mark((function a(){var n,o,r;return Object(I["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.account,o=t.token,a.next=3,R(o);case 3:r=a.sent,e.$notify({title:"".concat(n),message:"已签到:".concat(r.data.clockDays,"天"),duration:0});case 5:case"end":return a.stop()}}),a)})))()},handleDelete:function(t){this.tableData.splice(t,1),localStorage.setItem("user",JSON.stringify(this.tableData))},add:function(){var t=this;""!=this.user.account&&""!=this.user.password?this.tableData.some((function(e){return e.account==t.user.account}))?this.$message({message:"账号已存在",type:"error"}):this.tableData.push({account:this.user.account,password:this.user.password,Authenticate:""}):this.$message({message:"账号或密码不能为空",type:"error"})},allSign:function(){var t=this;this.tableData.forEach((function(e){e.Authenticate?t.clock({token:e.Authenticate,account:e.account}):t.$message({message:"".concat(e.account,"未登录"),type:"error"})}))},allInfo:function(){var t=this;this.tableData.forEach((function(e){e.Authenticate?t.info({token:e.Authenticate,account:e.account}):t.$message({message:"".concat(e.account,"未登录"),type:"error"})}))}}},B=U,F=(a("034f"),a("2877")),H=Object(F["a"])(B,E,z,!1,null,null,null),K=H.exports;T["default"].config.productionTip=!1,T["default"].component(P.a.name,P.a),T["default"].component(S.a.name,S.a),T["default"].component(_.a.name,_.a),T["default"].component(j.a.name,j.a),T["default"].component(x.a.name,x.a),T["default"].component(w.a.name,w.a),T["default"].use(g.a),T["default"].use(h.a),T["default"].use(m.a),T["default"].use(d.a),T["default"].use(l.a),T["default"].use(u.a),T["default"].prototype.$message=c.a,T["default"].prototype.$notify=o.a,new T["default"]({render:function(t){return t(K)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.b43d7e67.js.map